---
layout: archive
permalink: /resources/
title: "Resources"
author_profile: true
---

{% include base_path %}

<style>
.page__title {
  text-align: center !important;
}

#resources-container {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 30px;
  margin-top: 20px;
}

.category-filter-btn {
  transition: all 0.3s ease;
}

.category-filter-btn:not(.active) {
  filter: grayscale(100%) brightness(0.7);
  opacity: 0.4;
}

.category-filter-btn.active {
  filter: none;
  opacity: 1;
}

@media (max-width: 768px) {
  #resources-container {
    grid-template-columns: 1fr;
    gap: 20px;
  }
}
</style>

<div style="text-align: center; margin-bottom: 40px;">
  <p style="font-size: 0.9em; color: #666; margin-top: -10px; margin-bottom: 0;">Tools that deserve free advertisement</p>
</div>

{% assign resources = site.resources | sort: 'date' | reverse %}
{% assign total_resources = resources | size %}
{% assign per_page = 10 %}

<div id="category-filters" style="text-align: left; margin-top: 40px; margin-bottom: 30px; display: flex; justify-content: flex-start; gap: 15px; flex-wrap: wrap;">
  <button class="category-filter-btn active" data-category="Piracy" title="Piracy" style="width: 80px; height: 80px; border: none; border-radius: 8px; cursor: pointer; padding: 0; overflow: hidden; background: transparent; transition: all 0.3s ease; opacity: 1;">
    <img src="{{ base_path }}/images/icons/1.png" alt="Piracy" style="width: 100%; height: 100%; object-fit: cover; display: block;">
  </button>
  <button class="category-filter-btn active" data-category="AI" title="AI" style="width: 80px; height: 80px; border: none; border-radius: 8px; cursor: pointer; padding: 0; overflow: hidden; background: transparent; transition: all 0.3s ease; opacity: 1;">
    <img src="{{ base_path }}/images/icons/2.svg" alt="AI" style="width: 100%; height: 100%; object-fit: cover; display: block;">
  </button>
  <button class="category-filter-btn active" data-category="Windows" title="Windows" style="width: 80px; height: 80px; border: none; border-radius: 8px; cursor: pointer; padding: 0; overflow: hidden; background: transparent; transition: all 0.3s ease; opacity: 1;">
    <img src="{{ base_path }}/images/icons/3.png" alt="Windows" style="width: 100%; height: 100%; object-fit: cover; display: block;">
  </button>
  <button class="category-filter-btn active" data-category="Android" title="Android" style="width: 80px; height: 80px; border: none; border-radius: 8px; cursor: pointer; padding: 0; overflow: hidden; background: transparent; transition: all 0.3s ease; opacity: 1;">
    <img src="{{ base_path }}/images/icons/4.png" alt="Android" style="width: 100%; height: 100%; object-fit: cover; display: block;">
  </button>
  <button class="category-filter-btn active" data-category="Gaming" title="Gaming" style="width: 80px; height: 80px; border: none; border-radius: 8px; cursor: pointer; padding: 0; overflow: hidden; background: transparent; transition: all 0.3s ease; opacity: 1;">
    <img src="{{ base_path }}/images/icons/5.webp" alt="Gaming" style="width: 100%; height: 100%; object-fit: cover; display: block;">
  </button>
</div>

<div id="resources-container">
  {% for post in resources %}
    <div class="resource-item" data-category="{{ post.category | default: '' }}" style="display: none;">
      {% include archive-single-resource.html %}
    </div>
  {% endfor %}
</div>

{% if total_resources > 0 %}
  <nav class="pagination" id="resources-pagination" style="margin-top: 40px;">
    <ul id="pagination-list">
      <!-- Pagination will be generated by JavaScript -->
    </ul>
  </nav>
{% endif %}

<script>
(function() {
  const perPage = {{ per_page }};
  const allResourceItems = Array.from(document.querySelectorAll('.resource-item'));
  let activeCategories = new Set(['Piracy', 'AI', 'Windows', 'Android', 'Gaming']);
  let currentPage = 1;
  
  // Get page from URL or default to 1
  const urlParams = new URLSearchParams(window.location.search);
  const pageParam = urlParams.get('page');
  if (pageParam) {
    currentPage = parseInt(pageParam) || 1;
    if (currentPage < 1) currentPage = 1;
  }
  
  // Category filter functionality
  function initializeCategoryFilters() {
    const filterButtons = document.querySelectorAll('.category-filter-btn');
    filterButtons.forEach(btn => {
      btn.addEventListener('click', function() {
        const category = this.getAttribute('data-category');
        if (activeCategories.has(category)) {
          activeCategories.delete(category);
          this.classList.remove('active');
        } else {
          activeCategories.add(category);
          this.classList.add('active');
        }
        currentPage = 1; // Reset to first page on filter change
        applyFilters();
      });
    });
  }
  
  function applyFilters() {
    // First, filter by category
    const filteredItems = allResourceItems.filter(item => {
      const category = item.getAttribute('data-category') || '';
      return activeCategories.has(category);
    });
    
    // Recalculate pagination based on filtered items
    const filteredTotalPages = Math.ceil(filteredItems.length / perPage);
    
    // Adjust currentPage if it's out of bounds after filtering
    if (currentPage > filteredTotalPages && filteredTotalPages > 0) {
      currentPage = filteredTotalPages;
    } else if (filteredTotalPages === 0) {
      currentPage = 1; // If no items, show page 1 (empty)
    }
    
    // Hide all items first
    allResourceItems.forEach(item => item.style.display = 'none');
    
    // Show items for the current page from the filtered set
    const startIndex = (currentPage - 1) * perPage;
    const endIndex = startIndex + perPage;
    for (let i = startIndex; i < endIndex && i < filteredItems.length; i++) {
      filteredItems[i].style.display = 'block';
    }
    
    updatePagination(currentPage, filteredTotalPages);
    // Update URL without reload
    const newUrl = currentPage === 1
      ? '{{ base_path }}/resources/'
      : '{{ base_path }}/resources/?page=' + currentPage;
    window.history.pushState({page: currentPage}, '', newUrl);
  }
  
  function showPage(page) {
    currentPage = page;
    applyFilters();
  }
  
  function updatePagination(page, totalPagesToShow) {
    const paginationList = document.getElementById('pagination-list');
    if (!paginationList) {
      console.error('Pagination list not found');
      return;
    }
    
    paginationList.innerHTML = '';
    
    const pages = totalPagesToShow;
    
    // If only one page, still show it if there are items
    if (pages <= 1 && allResourceItems.length > 0) {
      const li = document.createElement('li');
      li.innerHTML = '<a href="#" class="disabled current">1</a>';
      paginationList.appendChild(li);
      return;
    }
    
    // Don't show pagination if no resource items
    if (pages <= 0) {
      return;
    }
    
    // Previous button
    if (page > 1) {
      const prevLi = document.createElement('li');
      if (page === 2) {
        prevLi.innerHTML = '<a href="{{ base_path }}/resources/">Previous</a>';
      } else {
        prevLi.innerHTML = '<a href="{{ base_path }}/resources/?page=' + (page - 1) + '">Previous</a>';
      }
      prevLi.querySelector('a').addEventListener('click', function(e) {
        e.preventDefault();
        showPage(page - 1);
      });
      paginationList.appendChild(prevLi);
    } else {
      const prevLi = document.createElement('li');
      prevLi.innerHTML = '<a href="#" class="disabled"><span aria-hidden="true">Previous</span></a>';
      paginationList.appendChild(prevLi);
    }
    
    // Page numbers
    let startPage = Math.max(1, page - 2);
    let endPage = Math.min(pages, page + 2);
    
    if (startPage > 1) {
      const firstLi = document.createElement('li');
      firstLi.innerHTML = '<a href="{{ base_path }}/resources/">1</a>';
      firstLi.querySelector('a').addEventListener('click', function(e) {
        e.preventDefault();
        showPage(1);
      });
      paginationList.appendChild(firstLi);
      if (startPage > 2) {
        const ellipsis = document.createElement('li');
        ellipsis.innerHTML = '<a href="#" class="disabled">&hellip;</a>';
        paginationList.appendChild(ellipsis);
      }
    }
    
    for (let i = startPage; i <= endPage; i++) {
      const li = document.createElement('li');
      if (i === page) {
        li.innerHTML = '<a href="#" class="disabled current">' + i + '</a>';
      } else if (i === 1) {
        li.innerHTML = '<a href="{{ base_path }}/resources/">1</a>';
        li.querySelector('a').addEventListener('click', function(e) {
          e.preventDefault();
          showPage(1);
        });
      } else {
        li.innerHTML = '<a href="{{ base_path }}/resources/?page=' + i + '">' + i + '</a>';
        li.querySelector('a').addEventListener('click', function(e) {
          e.preventDefault();
          showPage(i);
        });
      }
      paginationList.appendChild(li);
    }
    
    if (endPage < pages) {
      if (endPage < pages - 1) {
        const ellipsis = document.createElement('li');
        ellipsis.innerHTML = '<a href="#" class="disabled">&hellip;</a>';
        paginationList.appendChild(ellipsis);
      }
      const lastLi = document.createElement('li');
      lastLi.innerHTML = '<a href="{{ base_path }}/resources/?page=' + pages + '">' + pages + '</a>';
      lastLi.querySelector('a').addEventListener('click', function(e) {
        e.preventDefault();
        showPage(pages);
      });
      paginationList.appendChild(lastLi);
    }
    
    // Next button
    if (page < pages) {
      const nextLi = document.createElement('li');
      nextLi.innerHTML = '<a href="{{ base_path }}/resources/?page=' + (page + 1) + '">Next</a>';
      nextLi.querySelector('a').addEventListener('click', function(e) {
        e.preventDefault();
        showPage(page + 1);
      });
      paginationList.appendChild(nextLi);
    } else {
      const nextLi = document.createElement('li');
      nextLi.innerHTML = '<a href="#" class="disabled"><span aria-hidden="true">Next</span></a>';
      paginationList.appendChild(nextLi);
    }
  }
  
  // Initialize category filters
  initializeCategoryFilters();
  
  // Initialize page display (this will also initialize pagination)
  applyFilters(); // Call applyFilters directly to show initial items
  
  // Handle browser back/forward
  window.addEventListener('popstate', function(e) {
    const urlParams = new URLSearchParams(window.location.search);
    const pageParam = urlParams.get('page');
    currentPage = pageParam ? parseInt(pageParam) || 1 : 1;
    applyFilters(); // Re-apply filters on popstate
  });
})();
</script>
